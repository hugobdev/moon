!function(a,b){var c;return c=function(b,d){return a===this?new c(b,d):(this._collection=c.fn.getMoonCollection(b),this._callback=void 0,this._stack=[],this._step=-1,this._prefixes={},this._loop=1,this._direction=!0,this)},c.fn=c.prototype={_prefixes:{},getMoonCollection:function(a){var c,d,e,f,g,h,i;for(d=[],a instanceof Array||(c=a,a=[],a.push(c)),h=0,i=a.length;i>h;h++)g=a[h],g instanceof NodeList||g instanceof HTMLCollection?d.push(function(){var a,b,c;for(c=[],a=0,b=g.length;b>a;a++)e=g[a],c.push(e);return c}()):"string"==typeof g?(f=b.querySelectorAll(g),d.push(function(){var a,b,c;for(c=[],a=0,b=f.length;b>a;a++)e=f[a],c.push(e);return c}())):g instanceof Array?d.push(function(){var a,b,c;for(c=[],a=0,b=g.length;b>a;a++)e=g[a],c.push(e);return c}()):d.push(g);return d},getPrefix:function(a){var d,e,f,g,h,i,j;if(null!=c.fn._prefixes[a])return c.fn._prefixes[a];for(f=["webkit","moz","ms","O"],d=a.indexOf("-");d>-1;)a=a.slice(0,d)+a.charAt(d+1).toUpperCase()+a.slice(d+2),d=a.indexOf("-");if(null!=b.documentElement.style[a])return c.fn._prefixes[a]=a,a;for(g=c.fn.cap(a),i=0,j=f.length;j>i;i++)if(e=f[i],h=e+g,null!=b.documentElement.style[h])return c.fn._prefixes[a]=h,h},cap:function(a){return a.charAt(0).toUpperCase()+a.slice(1)},animate:function(a){var b,c,d;b={duration:0,delay:0,easing:"ease",beforeAnimation:void 0,afterAnimation:void 0};for(c in a)d=a[c],b[c]=d;return this._stack.push(b),this},play:function(a){return this._callback=a,this._play(),this},_play:function(){var a,b,c,d,e,f,g,h,i,j=this;if(this._step+=1,e=this._direction?this._step:this._stack.length-1-this._step,a=this._stack[e],null!=a){for("function"==typeof a.beforeAnimation&&a.beforeAnimation(),i=this._collection,g=0,h=i.length;h>g;g++){b=i[g],b.style[this.getPrefix("transition")]=""+a.duration+"ms all "+a.easing+" "+a.delay+"ms";for(c in a)f=a[c],"duration"!==c&&"delay"!==c&&"easing"!==c&&"beforeAnimation"!==c&&"afterAnimation"!==c&&(b.style[this.getPrefix(c)]=f)}d=setTimeout(function(){return"function"==typeof a.afterAnimation&&a.afterAnimation(),j._play(),clearTimeout(d)},a.delay+a.duration)}else this._step=-1,"number"==typeof this._loop?(this._loop-=1,this._loop>0?this._play():(null!=this._callback&&this._callback(),this.reset())):"string"==typeof this._loop&&(null!=this._callback&&this._callback(),"alternate"===this._loop?(this._direction=!this._direction,this._play()):"infinite"===this._loop&&this._play());return this},loop:function(a){return this._loop=a,this},reset:function(){return this._callback=void 0,this._step=-1,this._stack=[],this._loop=1,this._direction=!0}},a.Moon=c}(window,document);