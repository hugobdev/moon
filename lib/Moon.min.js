var Moon;Moon=function(target,args){return new Moon.pt.init(target,args)},Moon.pt=Moon.prototype={_collection:[],_stack:[],_step:-1,_callback:void 0,init:function(target){return Moon.pt._collection=Moon.pt.getMoonCollection(target),Moon.pt},getMoonCollection:function(target){var collection,el,selectedElements,_i,_j,_len,_len1;if(collection=[],target instanceof NodeList||target instanceof HTMLCollection)for(_i=0,_len=target.length;_len>_i;_i++)el=target[_i],collection.push(el);else if("string"==typeof target)for(selectedElements=document.querySelectorAll(target),_j=0,_len1=selectedElements.length;_len1>_j;_j++)el=selectedElements[_j],collection.push(el);else target instanceof Array?collection=target:collection.push(target);return collection},getPrefix:function(prop){var indexOfDash,pre,prefixes,_i,_len;for(prefixes=["","webkit","moz","ms","O"],indexOfDash=prop.indexOf("-");indexOfDash>-1;)prop=prop.slice(0,indexOfDash)+prop.charAt(indexOfDash+1).toUpperCase()+prop.slice(indexOfDash+2),indexOfDash=prop.indexOf("-");for(_i=0,_len=prefixes.length;_len>_i;_i++)if(pre=prefixes[_i],""!==pre&&(prop=prop.charAt(0).toUpperCase()+prop.slice(1)),null!=document.documentElement.style[pre+prop])return pre+prop},animate:function(args){var animationProps,arg,value;animationProps={duration:0,delay:0,easing:"ease"};for(arg in args)value=args[arg],animationProps[arg]=value;return Moon.pt._stack.push(animationProps),Moon.pt},play:function(callback){return Moon.pt._callback=callback,Moon.pt._play()},_play:function(){var anm,el,key,nextTimeout,value,_i,_len,_ref;if(Moon.pt._step++,anm=Moon.pt._stack[Moon.pt._step],"undefined"!=typeof anm&&null!==anm){for(_ref=Moon.pt._collection,_i=0,_len=_ref.length;_len>_i;_i++){el=_ref[_i],el.style[Moon.pt.getPrefix("transition")]=""+anm.duration+"ms all "+anm.easing+" "+anm.delay+"ms";for(key in anm)value=anm[key],"duration"!==key&&"delay"!==key&&"easing"!==key&&(el.style[Moon.pt.getPrefix(key)]=value)}return nextTimeout=setTimeout(function(){return Moon.pt._play(),clearTimeout(nextTimeout)},anm.delay+anm.duration)}return Moon.pt._step=-1,null!=Moon.pt._callback?Moon.pt._callback():void 0}};